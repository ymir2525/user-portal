/* ------------------------------
   Global helpers
------------------------------ */
:root{
  --orange-50:#fff7ed;
  --orange-100:#ffedd5;
  --orange-200:#fed7aa;
  --orange-300:#fdba74;
  --orange-400:#fb923c;
  --orange-500:#f97316;
  --orange-600:#ea580c;

  --gray-50:#f9fafb;
  --gray-100:#f3f4f6;
  --gray-200:#e5e7eb;
  --gray-300:#d1d5db;
  --gray-500:#6b7280;
  --gray-600:#4b5563;
  --gray-700:#374151;

  --red-400:#fca5a5;
  --red-600:#b91c1c;

  --green-100:#dcfce7;
  --green-200:#bbf7d0;
  --green-300:#86efac;
  --green-600:#059669;
}

*{box-sizing:border-box}
html, body { height:100%; }
body { margin:0; }

/* Utility */
.text-center{ text-align:center; }

/* ------------------------------
   Page layout
------------------------------ */
.family-page{
  min-height:100vh;
  padding:24px;
  background:#fff;
  color:#111827;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  display:flex;
  flex-direction:column;
  gap:16px;
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.link{
  color:#0b57d0;
  background:none;
  border:none;
  padding:0;
  cursor:pointer;
  text-decoration:underline;
  font: inherit;
}
.link--small{ font-size:14px; }

.page-title{
  text-align:center;
  font-weight:600;
  margin:0;
}
.page-title--family{
  color:#c2410c;
}

/* Status / messages */
.status{ text-align:center; font-size:14px; }
.status--loading{ color:#111827; }

.error-text{
  color:var(--red-600);
  font-size:12px;
  margin-top:6px;
}
.muted{ color:var(--gray-500); }
.small{ font-size:12px; }
.empty{
  text-align:center;
  font-size:14px;
  color:var(--gray-500);
  margin-top:12px;
}

.separator{
  height:1px;
  background:var(--orange-300);
  margin:16px 0;
  border:0;
}

/* ------------------------------
   Member list (first screen)
------------------------------ */
.member-list{
  width:100%;
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}

.member-card{
  display:block;
  width:100%;
  max-width:720px;
  border:1px solid var(--gray-300);
  border-radius:8px;
  padding:10px 12px;
  text-align:left;
  background:#fff;
  cursor:pointer;
}
.member-card:hover{ background:var(--orange-50); }

.member-card__row{ display:flex; align-items:center; gap:8px; }
.member-card__main{ flex:1; min-width:0; }
.member-card__name{ font-weight:600; }
.member-card__meta{ font-size:12px; color:var(--gray-500); }
.member-card__date{ font-size:12px; color:var(--gray-700); }

/* ------------------------------
   Patient header + meta (second screen)
------------------------------ */
.patient-wrap{ width:100%; max-width:980px; margin:0 auto; }
.patient-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:8px;
  flex-wrap:wrap;
}
.patient-name{ font-weight:600; font-size:18px; }
.patient-meta{
  font-size:14px;
  display:grid;
  gap:4px;
  grid-template-columns:1fr;
  margin-bottom:16px;
}
@media (min-width:640px){
  .patient-meta{ grid-template-columns:repeat(3, minmax(0,1fr)); }
}

.subhead{
  font-size:14px;
  font-weight:600;
  margin:8px 0;
}

/* Past records list */
.record-list{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.record-item{
  width:100%;
  text-align:left;
  border:1px solid var(--gray-200);
  border-radius:8px;
  padding:10px 12px;
  background:#fff;
  cursor:pointer;
}
.record-item:hover{ background:var(--orange-50); }
.record-item__title{ font-weight:700; font-size:18px; }
.record-item__meta{ font-size:12px; color:var(--gray-500); margin-top:2px; }

/* ------------------------------
   Forms / fields (new record)
------------------------------ */
.form{
  background:var(--orange-50);
  border:1px solid var(--orange-300);
  border-radius:12px;
  padding:20px;
}
.form--new-record{ position:relative; }

.row{ display:grid; gap:16px; margin-bottom:16px; }
.row--two{ grid-template-columns:1fr; }
@media (min-width:768px){ .row--two{ grid-template-columns:1fr 1fr; } }

.field{ display:block; }
.field--compact{ margin-top:12px; max-width:320px; }

.label{
  display:block;
  font-size:14px;
  margin-bottom:6px;
}

.input, .textarea{
  width:100%;
  border:1px solid var(--gray-300);
  border-radius:6px;
  padding:8px 12px;
  background:#fff;
  font: inherit;
}
.input--readonly{ background:var(--gray-100); }
.input--one-third{ width:100%; max-width:240px; }

.has-error{ border-color:var(--red-400) !important; }
.textarea{ min-height:120px; resize:vertical; }

/* Checkbox */
.checkbox{ display:flex; align-items:center; gap:8px; font-size:14px; margin-top:8px; }
.checkbox-input{ accent-color: var(--orange-500); }


/* ------------------------------
   Buttons
------------------------------ */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid transparent;
  cursor:pointer;
  font: inherit;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}
.btn:disabled{ opacity:.6; cursor:not-allowed; }

.btn--primary{
  background:var(--green-300);
  color:#0f5132;
  border-color:var(--green-200);
}
.btn--primary:hover:not(:disabled){ background:var(--green-200); }

.btn--secondary{
  background:var(--gray-200);
  color:#111827;
}
.btn--secondary:hover{ background:var(--gray-300); }

.btn--accent{
  background:var(--green-200);
  color:#065f46;
  border-color:#34d399;
  padding:6px 10px;
  border-radius:6px;
}
.btn--accent:hover{ background:var(--green-300); }

.btn--accent-block{
  width:100%;
  background:var(--orange-300);
  color:#fff;
}
.btn--accent-block:hover{ background:var(--orange-400); }

.btn--light{
  background:var(--orange-200);
  color:#7c2d12;
  border-color:var(--orange-300);
  padding:6px 10px;
  border-radius:6px;
}
.btn--light:hover{ background:var(--orange-300); }

.btn--full{ width:100%; }

/* Actions */
.actions{
  display:flex;
  gap:12px;
  margin-top:16px;
  align-items:center;
}
@media (max-width:767px){
  .actions{ flex-direction:column; }
  .btn--secondary{ width:100%; }
}

/* Sticky submit bar – always visible (no hover dependency) */
.actions--sticky{
  position: sticky;
  bottom: 0;
  background:#fff;                     /* solid background fixes “only on hover” look */
  padding-top:12px;
  padding-bottom:8px;
  z-index:10;
  box-shadow:0 -4px 10px rgba(0,0,0,.05);
}

/* ------------------------------
   Past record subviews
------------------------------ */
.past{ max-width:820px; margin:0 auto; }
.past-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.past-meta{
  margin-top:12px;
  font-size:14px;
}
.past-actions{
  margin-top:24px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Chart cards */
.grid{ display:grid; gap:16px; }
.grid--two{ grid-template-columns:1fr; }
@media (min-width:768px){ .grid--two{ grid-template-columns:1fr 1fr; } }

.card{
  border:1px solid var(--gray-200);
  border-radius:8px;
  padding:12px;
  background:#fff;
}
.card__title{ font-weight:600; margin-bottom:8px; }
.prewrap{ white-space:pre-wrap; }

/* Documents panel */
.docs-panel{
  margin-top:12px;
  border:1px solid var(--orange-300);
  border-radius:8px;
  padding:16px;
  background:var(--orange-50);
}
.docs-list{ display:flex; flex-direction:column; gap:12px; }
.doc-row{
  border:1px solid var(--gray-200);
  border-radius:8px;
  padding:8px 12px;
  background:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.doc-row__title{ font-weight:700; text-transform:uppercase; }
.doc-row__meta{ text-transform:none; color:var(--gray-500); font-size:12px; margin-left:6px; }
.doc-row__link{ font-size:12px; }
/* === FIX: sticky footer + primary button always visible === */

/* Solid sticky footer so controls never blend into the form bg */
.actions--sticky{
  position: sticky;
  bottom: 0;
  z-index: 100;                 /* stay on top */
  background: #ffffff;          /* solid white, not translucent */
  border-top: 1px solid var(--gray-200);
  padding-top: 12px;
  padding-bottom: 12px;
  box-shadow: 0 -4px 10px rgba(0,0,0,.05);
}

/* Make the submit button clearly visible in its default (non-hover) state */
.btn--primary{
  background: orange !important;   /* green-600 fallback to guarantee contrast */
  color: #ffffff !important;
  border-color: orange !important;
  box-shadow: 0 1px 2px rgba(0,0,0,.06), 0 1px 1px rgba(0,0,0,.04);
}

/* Slight hover change only (no visibility dependency on hover) */
/* === Submit button: orange bg + white text (normal, hover, disabled) === */
.btn--primary{
  background: var(--orange-500) !important;  /* vivid orange */
  color: #ffffff !important;                 /* white text */
  border-color: var(--orange-600) !important;
  box-shadow: 0 1px 2px rgba(0,0,0,.06), 0 1px 1px rgba(0,0,0,.04);
}

.btn--primary:hover:not(:disabled){
  background: var(--orange-600) !important;  /* deeper on hover */
}

/* keep disabled version visible and consistent */
.btn--primary:disabled{
  background: var(--orange-300) !important;  /* lighter orange */
  color: #ffffff !important;                 /* still white text */
  border-color: var(--orange-400) !important;
  opacity: 1 !important;                     /* do not fade out */
  cursor: not-allowed;
}

/* full-width submit in sticky bar */
.btn--full{ width: 10% !important; }

/* (keep this) solid sticky bar so contrast is always good */
.actions--sticky{
  position: sticky;
  bottom: 0;
  z-index: 100;
  background: #ffffff;
  border-top: 1px solid var(--gray-200);
  padding-top: 12px;
  padding-bottom: 12px;
  box-shadow: 0 -4px 10px rgba(0,0,0,.05);
}

/* optional: clear keyboard focus ring for accessibility */
.btn--primary:focus-visible{
  outline: 2px solid #fff;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(249,115,22,.35);
}
/* ---- Match Dashboard's card + stacked layout in New Record ---- */
.stack{ display:grid; gap:8px; }
.subsection{ margin-top:8px; padding-top:8px; border-top:1px dashed var(--gray-300); }
.subsection__title{ font-weight:600; font-size:13px; margin-bottom:8px; }

/* Make the patient-meta block show like your screenshot */
.patient-meta{
  font-size:14px;
  display:grid;
  gap:4px;
  grid-template-columns: 1fr 1fr 1fr;
}
.patient-meta .patient-emergency{
  grid-column: 1 / -1; /* full width row for the long emergency line */
}
.patient-meta .patient-right{
  justify-self:end;
}

/* Optional: card spacing consistency */
.card { border:1px solid var(--gray-200); border-radius:8px; padding:12px 16px; background:#fff; margin-bottom:16px; }
.card__title{ font-weight:600; font-size:14px; margin-bottom:8px; }
